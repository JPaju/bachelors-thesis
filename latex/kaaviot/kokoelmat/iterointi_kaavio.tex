\input{kaaviot/kokoelmat/colors.tex}

\pgfplotstableread{kaaviot/kokoelmat/data/iterointi_haoyi.dat}\haoyi
\pgfplotstableread{kaaviot/kokoelmat/data/iterointi_hobson.dat}\hobson

\begin{tikzpicture}
    \begin{axis}[
        width=0.52*\textwidth,
        xshift=-2cm,
        xtick=data,
        xticklabels from table={\haoyi}{size},
        ymin=0,
        name={haoyi},
        title={Haoyi},
        xlabel={Kokoelman koko},
        legend pos=north west
    ]

    \addplot+[list] table [y=List, x expr=\coordindex]{\haoyi};
    \addplot+[vector] table [y=Vector, x expr=\coordindex]{\haoyi};
    \addplot+[array] table [y=Array, x expr=\coordindex]{\haoyi};

    \legend{List, Vector, Array, ArrayBuffer}

    \end{axis}

    \begin{axis}[
        at={(haoyi.south east)},
        xshift=1cm,
        width=0.52*\textwidth,
        ybar,
        ymin=0,
        xtick=data,
        xticklabel style={rotate=45, anchor=north east},
        title={Hobson},
        symbolic x coords={List, Vector, Array, ArrayBuffer, ListBuffer}
    ]
    
    \addplot table[x=collection, y=result]{\hobson};

\end{axis}

\end{tikzpicture}